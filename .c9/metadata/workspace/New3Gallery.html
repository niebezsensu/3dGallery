{"filter":false,"title":"New3Gallery.html","tooltip":"/New3Gallery.html","undoManager":{"mark":14,"position":14,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":240,"column":0},"action":"insert","lines":["<html>","\t<head>","\t\t<title>My first Three.js app</title>","\t\t<link rel=\"stylesheet\" href=\"css/3gallery.css\" type=\"text/css\"/>","","\t</head>","\t<body>","\t\t<script src=\"js/three.min.js\"></script>","\t\t<script>","\t\t\tvar scene = new THREE.Scene();","\t\t\tvar camera = new THREE.PerspectiveCamera( 45, window.innerWidth/window.innerHeight, 0.1, 1000 );","","\t\t\t//camera.position.set(20,40,50);","\t\t\t//camera.lookAt(scene.position);","","\t\t\tvar renderer = new THREE.WebGLRenderer();","\t\t\trenderer.setSize( window.innerWidth, window.innerHeight );","\t\t\tdocument.body.appendChild( renderer.domElement );","","\t\t\tcamera.position.z = -12;","\t\t\tcamera.position.y = 3.5;","\t\t\t","","\t\t\tconst DIF = 0.02;","\t\t\tconst WI = 2.5;","\t\t\tconst HI = 2.2;","","\t\t\tvar map1 = THREE.ImageUtils.loadTexture('img/1.jpg');","\t\t\tvar map2 = THREE.ImageUtils.loadTexture('img/2.jpg');","\t\t\tvar map3 = THREE.ImageUtils.loadTexture('img/3.jpg');","\t\t\tvar map4 = THREE.ImageUtils.loadTexture('img/4.jpg');","\t\t\tvar map5 = THREE.ImageUtils.loadTexture('img/5.jpg');","\t\t\tvar map6 = THREE.ImageUtils.loadTexture('img/6.jpg');","\t\t\tvar map7 = THREE.ImageUtils.loadTexture('img/7.jpg');","\t\t\tvar map8 = THREE.ImageUtils.loadTexture('img/8.jpg');","\t\t\tvar map9 = THREE.ImageUtils.loadTexture('img/9.jpg');","","\t\t\tvar img1 = new THREE.MeshBasicMaterial({ map:map1, needsUpdate: true});","\t\t\tvar img2 = new THREE.MeshBasicMaterial({ map:map2, needsUpdate: true});","\t\t\tvar img3 = new THREE.MeshBasicMaterial({ map:map3, needsUpdate: true});","\t\t\tvar img4 = new THREE.MeshBasicMaterial({ map:map4, needsUpdate: true});","\t\t\tvar img5 = new THREE.MeshBasicMaterial({ map:map5, needsUpdate: true});","\t\t\tvar img6 = new THREE.MeshBasicMaterial({ map:map6, needsUpdate: true});","\t\t\tvar img7 = new THREE.MeshBasicMaterial({ map:map7, needsUpdate: true});","\t\t\tvar img8 = new THREE.MeshBasicMaterial({ map:map8, needsUpdate: true});","\t\t\tvar img9 = new THREE.MeshBasicMaterial({ map:map9, needsUpdate: true});","","\t\t\tvar plane1 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img1);","\t\t\tvar plane2 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img2);","\t\t\tvar plane3 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img3);","\t\t\tvar plane4 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img4);","\t\t\tvar plane5 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img5);","\t\t\tvar plane6 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img6);","\t\t\tvar plane7 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img7);","\t\t\tvar plane8 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img8);","\t\t\tvar plane9 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img9);","","\t\t    //plane.overdraw = true;","\t\t    plane1.position.x = 6;","\t\t    plane1.position.z = 0;","","\t\t    plane2.position.x = 4.566;","\t\t    plane2.position.z = 3.892;","","\t\t    plane3.position.x = 0.948;","\t\t    plane3.position.z = 5.924;","","\t\t    plane4.position.x = -3.122;","\t\t    plane4.position.z = 5.124;","","\t\t    plane5.position.x = -5.700;","\t\t    plane5.position.z = 1.872;","","\t\t    plane6.position.x = -5.552;","\t\t    plane6.position.z = -2.274;","","\t\t    plane7.position.x = -2.750;","\t\t    plane7.position.z = -5.332;","","\t\t    plane8.position.x = 1.368;","\t\t    plane8.position.z = -5.842;","","\t\t    plane9.position.x = 4.830;","\t\t    plane9.position.z = -3.558;","","\t\t    scene.add(plane1);","\t\t    scene.add(plane2);","\t\t    scene.add(plane3);","\t\t    scene.add(plane4);","\t\t    scene.add(plane5);","\t\t    scene.add(plane6);","\t\t    scene.add(plane7);","\t\t    scene.add(plane8);","\t\t    scene.add(plane9);","","\t\t    scene.fog = new THREE.FogExp2( 0x111111, 0.05 );","","\t\t\tconst SPEED0 = window.innerWidth/2;","","\t\t\tvar mouse = {x: 0};","","\t\t\tdocument.addEventListener('mousemove', function(e){ ","\t\t\t    mouse.x = e.clientX || e.pageX; ","\t\t\t}, false);","","\t\t\t    var getElementPosition = function(element) {","\t\t        var top = left = 0;","\t\t        do {","\t\t            top  += element.offsetTop  || 0;","\t\t            left += element.offsetLeft || 0;","\t\t            element =  element.offsetParent;","\t\t        }","\t\t        while (element);","\t\t        return {top: top, left: left};","\t\t    }","","\t\t    var imArray = [plane1, plane2, plane3, plane4, plane5, plane6, plane7, plane8, plane9];","","\t\t\tvar raf;","\t\t\tvar clickedOnce = false;","\t\t\tvar clickedTwice = false;","\t\t\tvar anCat = false;","","\t\t\tvar caf;","\t\t\t//var projector = new THREE.Projector();","\t\t    renderer.domElement.addEventListener('click', function(e){","\t\t    //     var mouseX = e.clientX - getElementPosition(renderer.domElement).left;","\t\t    //     var mouseY = e.clientY - getElementPosition(renderer.domElement).top;","\t\t    //     var x =   (mouseX / renderer.domElement.width) * 2 - 1;","\t\t    //     var y = - (mouseY / renderer.domElement.height) * 2 + 1;","\t\t    //     var vector = new THREE.Vector3(x, y, 1);","\t\t    //     //projector.unprojectVector(vector, camera);","\t\t    //     vector.unproject(camera);","\t\t    ","\t\t    //     var ray = new THREE.Ray(camera.position, vector.sub(camera.position).normalize());","\t\t        //var intersects = ray.intersectPlane(plane1);","\t\t    ","\t\t    //if(intersects){","\t\t  /*  var color = Math.random() * 0xffffff;","\t\t            plane1.material.color.setHex( color );*/","","\t\t\t\t/*plane1.scale.x = 2;","\t\t\t\tplane1.scale.y = 2;","\t\t\t\tplane1.position.y = 1;*/","\t\t\t\tconsole.log(\"clickedOnce: \"+clickedOnce);","\t\t\t\tif(raf != null) {","\t\t\t\t\tif(!clickedOnce){","\t\t\t\t\t\tconsole.log(\" zatrzymuje\");","\t\t\t\t\t\t//caf = cancelAnimationFrame( raf );","\t\t\t\t\t\tclickedOnce = true;","\t\t\t\t\t\t","\t\t\t\t\t}","\t\t\t\t\telse if(clickedOnce && !clickedTwice){","\t\t\t\t\t\tclickedTwice = true;","\t\t\t\t\t\tanCat =  true;","\t\t\t\t\t}","\t\t\t\t\telse{","\t\t\t\t\t\tclickedOnce = false;","\t\t\t\t\t\tclickedTwice = false;","\t\t\t\t\t\t//console.log(\" wznawiam\");","","\t\t\t\t\t\t//requestAnimationFrame(render);","\t\t\t\t\t\t","\t\t\t\t\t\t//caf = null;\t","\t\t\t\t\t}","\t\t\t\t}","","\t\t    }, false);","","\t\t\tfunction animateScene(){","\t\t\t\tvar speed = (mouse.x - SPEED0) * 0.000005;","","\t\t\t\tif(!clickedOnce){","\t\t\t\t\t//scene.rotation.y += speed;","\t\t\t\t\tvar timer = Date.now() * 0.0005;","\t\t\t\t\tcamera.position.x = Math.cos(timer) * 8;","\t\t\t\t\tcamera.position.z = Math.sin(timer) * 8;","\t\t\t\t\tcamera.lookAt(scene.position);","\t","\t\t\t\t","\t\t\t\t\tplane1.rotation.y -= speed;","\t\t\t\t\tplane2.rotation.y -= speed;","\t\t\t\t\tplane3.rotation.y -= speed;","\t\t\t\t\tplane4.rotation.y -= speed;","\t\t\t\t\tplane5.rotation.y -= speed;","\t\t\t\t\tplane6.rotation.y -= speed;","\t\t\t\t\tplane7.rotation.y -= speed;","\t\t\t\t\tplane8.rotation.y -= speed;","\t\t\t\t\tplane9.rotation.y -= speed;","\t\t\t\t}","\t\t\t}","\t\t\t","\t","\t\t\tvar catSize = 0;","","","","\t\t\tvar catAnimation = function (givenCat) {","                givenCat.scale.x += 0.05;","                givenCat.scale.y += 0.05;","                if(givenCat.position.x > 0) {","                    givenCat.position.x -= 0.1;","                }","                if(givenCat.position.z > 0) {","                    givenCat.position.z += 0.1;","                }","","                if(givenCat.position.x <= 0 && givenCat.position.z <= 0 ) {","                    return false;","                }","                return true;","            }","","\t\t\tvar render = function () {","\t\t\t\t//camera.lookAt( scene.position );","","\t\t\t\traf = requestAnimationFrame( render );","\t\t\t\tanimateScene();","\t\t\t\t","","\t\t\t\tif(anCat){","\t\t\t\t","\t\t\t\t\tanCat = catAnimation(plane1);","\t\t\t\t","\t\t\t\t}","\t\t\t\telse{","","\t\t\t\t}","","","","\t\t\t\trenderer.render(scene, camera);","","\t\t\t};","","\t\t\trender();","\t\t</script>","\t</body>","</html>","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":3},"end":{"row":235,"column":12},"action":"remove","lines":["var scene = new THREE.Scene();","\t\t\tvar camera = new THREE.PerspectiveCamera( 45, window.innerWidth/window.innerHeight, 0.1, 1000 );","","\t\t\t//camera.position.set(20,40,50);","\t\t\t//camera.lookAt(scene.position);","","\t\t\tvar renderer = new THREE.WebGLRenderer();","\t\t\trenderer.setSize( window.innerWidth, window.innerHeight );","\t\t\tdocument.body.appendChild( renderer.domElement );","","\t\t\tcamera.position.z = -12;","\t\t\tcamera.position.y = 3.5;","\t\t\t","","\t\t\tconst DIF = 0.02;","\t\t\tconst WI = 2.5;","\t\t\tconst HI = 2.2;","","\t\t\tvar map1 = THREE.ImageUtils.loadTexture('img/1.jpg');","\t\t\tvar map2 = THREE.ImageUtils.loadTexture('img/2.jpg');","\t\t\tvar map3 = THREE.ImageUtils.loadTexture('img/3.jpg');","\t\t\tvar map4 = THREE.ImageUtils.loadTexture('img/4.jpg');","\t\t\tvar map5 = THREE.ImageUtils.loadTexture('img/5.jpg');","\t\t\tvar map6 = THREE.ImageUtils.loadTexture('img/6.jpg');","\t\t\tvar map7 = THREE.ImageUtils.loadTexture('img/7.jpg');","\t\t\tvar map8 = THREE.ImageUtils.loadTexture('img/8.jpg');","\t\t\tvar map9 = THREE.ImageUtils.loadTexture('img/9.jpg');","","\t\t\tvar img1 = new THREE.MeshBasicMaterial({ map:map1, needsUpdate: true});","\t\t\tvar img2 = new THREE.MeshBasicMaterial({ map:map2, needsUpdate: true});","\t\t\tvar img3 = new THREE.MeshBasicMaterial({ map:map3, needsUpdate: true});","\t\t\tvar img4 = new THREE.MeshBasicMaterial({ map:map4, needsUpdate: true});","\t\t\tvar img5 = new THREE.MeshBasicMaterial({ map:map5, needsUpdate: true});","\t\t\tvar img6 = new THREE.MeshBasicMaterial({ map:map6, needsUpdate: true});","\t\t\tvar img7 = new THREE.MeshBasicMaterial({ map:map7, needsUpdate: true});","\t\t\tvar img8 = new THREE.MeshBasicMaterial({ map:map8, needsUpdate: true});","\t\t\tvar img9 = new THREE.MeshBasicMaterial({ map:map9, needsUpdate: true});","","\t\t\tvar plane1 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img1);","\t\t\tvar plane2 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img2);","\t\t\tvar plane3 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img3);","\t\t\tvar plane4 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img4);","\t\t\tvar plane5 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img5);","\t\t\tvar plane6 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img6);","\t\t\tvar plane7 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img7);","\t\t\tvar plane8 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img8);","\t\t\tvar plane9 = new THREE.Mesh(new THREE.PlaneBufferGeometry(WI, HI),img9);","","\t\t    //plane.overdraw = true;","\t\t    plane1.position.x = 6;","\t\t    plane1.position.z = 0;","","\t\t    plane2.position.x = 4.566;","\t\t    plane2.position.z = 3.892;","","\t\t    plane3.position.x = 0.948;","\t\t    plane3.position.z = 5.924;","","\t\t    plane4.position.x = -3.122;","\t\t    plane4.position.z = 5.124;","","\t\t    plane5.position.x = -5.700;","\t\t    plane5.position.z = 1.872;","","\t\t    plane6.position.x = -5.552;","\t\t    plane6.position.z = -2.274;","","\t\t    plane7.position.x = -2.750;","\t\t    plane7.position.z = -5.332;","","\t\t    plane8.position.x = 1.368;","\t\t    plane8.position.z = -5.842;","","\t\t    plane9.position.x = 4.830;","\t\t    plane9.position.z = -3.558;","","\t\t    scene.add(plane1);","\t\t    scene.add(plane2);","\t\t    scene.add(plane3);","\t\t    scene.add(plane4);","\t\t    scene.add(plane5);","\t\t    scene.add(plane6);","\t\t    scene.add(plane7);","\t\t    scene.add(plane8);","\t\t    scene.add(plane9);","","\t\t    scene.fog = new THREE.FogExp2( 0x111111, 0.05 );","","\t\t\tconst SPEED0 = window.innerWidth/2;","","\t\t\tvar mouse = {x: 0};","","\t\t\tdocument.addEventListener('mousemove', function(e){ ","\t\t\t    mouse.x = e.clientX || e.pageX; ","\t\t\t}, false);","","\t\t\t    var getElementPosition = function(element) {","\t\t        var top = left = 0;","\t\t        do {","\t\t            top  += element.offsetTop  || 0;","\t\t            left += element.offsetLeft || 0;","\t\t            element =  element.offsetParent;","\t\t        }","\t\t        while (element);","\t\t        return {top: top, left: left};","\t\t    }","","\t\t    var imArray = [plane1, plane2, plane3, plane4, plane5, plane6, plane7, plane8, plane9];","","\t\t\tvar raf;","\t\t\tvar clickedOnce = false;","\t\t\tvar clickedTwice = false;","\t\t\tvar anCat = false;","","\t\t\tvar caf;","\t\t\t//var projector = new THREE.Projector();","\t\t    renderer.domElement.addEventListener('click', function(e){","\t\t    //     var mouseX = e.clientX - getElementPosition(renderer.domElement).left;","\t\t    //     var mouseY = e.clientY - getElementPosition(renderer.domElement).top;","\t\t    //     var x =   (mouseX / renderer.domElement.width) * 2 - 1;","\t\t    //     var y = - (mouseY / renderer.domElement.height) * 2 + 1;","\t\t    //     var vector = new THREE.Vector3(x, y, 1);","\t\t    //     //projector.unprojectVector(vector, camera);","\t\t    //     vector.unproject(camera);","\t\t    ","\t\t    //     var ray = new THREE.Ray(camera.position, vector.sub(camera.position).normalize());","\t\t        //var intersects = ray.intersectPlane(plane1);","\t\t    ","\t\t    //if(intersects){","\t\t  /*  var color = Math.random() * 0xffffff;","\t\t            plane1.material.color.setHex( color );*/","","\t\t\t\t/*plane1.scale.x = 2;","\t\t\t\tplane1.scale.y = 2;","\t\t\t\tplane1.position.y = 1;*/","\t\t\t\tconsole.log(\"clickedOnce: \"+clickedOnce);","\t\t\t\tif(raf != null) {","\t\t\t\t\tif(!clickedOnce){","\t\t\t\t\t\tconsole.log(\" zatrzymuje\");","\t\t\t\t\t\t//caf = cancelAnimationFrame( raf );","\t\t\t\t\t\tclickedOnce = true;","\t\t\t\t\t\t","\t\t\t\t\t}","\t\t\t\t\telse if(clickedOnce && !clickedTwice){","\t\t\t\t\t\tclickedTwice = true;","\t\t\t\t\t\tanCat =  true;","\t\t\t\t\t}","\t\t\t\t\telse{","\t\t\t\t\t\tclickedOnce = false;","\t\t\t\t\t\tclickedTwice = false;","\t\t\t\t\t\t//console.log(\" wznawiam\");","","\t\t\t\t\t\t//requestAnimationFrame(render);","\t\t\t\t\t\t","\t\t\t\t\t\t//caf = null;\t","\t\t\t\t\t}","\t\t\t\t}","","\t\t    }, false);","","\t\t\tfunction animateScene(){","\t\t\t\tvar speed = (mouse.x - SPEED0) * 0.000005;","","\t\t\t\tif(!clickedOnce){","\t\t\t\t\t//scene.rotation.y += speed;","\t\t\t\t\tvar timer = Date.now() * 0.0005;","\t\t\t\t\tcamera.position.x = Math.cos(timer) * 8;","\t\t\t\t\tcamera.position.z = Math.sin(timer) * 8;","\t\t\t\t\tcamera.lookAt(scene.position);","\t","\t\t\t\t","\t\t\t\t\tplane1.rotation.y -= speed;","\t\t\t\t\tplane2.rotation.y -= speed;","\t\t\t\t\tplane3.rotation.y -= speed;","\t\t\t\t\tplane4.rotation.y -= speed;","\t\t\t\t\tplane5.rotation.y -= speed;","\t\t\t\t\tplane6.rotation.y -= speed;","\t\t\t\t\tplane7.rotation.y -= speed;","\t\t\t\t\tplane8.rotation.y -= speed;","\t\t\t\t\tplane9.rotation.y -= speed;","\t\t\t\t}","\t\t\t}","\t\t\t","\t","\t\t\tvar catSize = 0;","","","","\t\t\tvar catAnimation = function (givenCat) {","                givenCat.scale.x += 0.05;","                givenCat.scale.y += 0.05;","                if(givenCat.position.x > 0) {","                    givenCat.position.x -= 0.1;","                }","                if(givenCat.position.z > 0) {","                    givenCat.position.z += 0.1;","                }","","                if(givenCat.position.x <= 0 && givenCat.position.z <= 0 ) {","                    return false;","                }","                return true;","            }","","\t\t\tvar render = function () {","\t\t\t\t//camera.lookAt( scene.position );","","\t\t\t\traf = requestAnimationFrame( render );","\t\t\t\tanimateScene();","\t\t\t\t","","\t\t\t\tif(anCat){","\t\t\t\t","\t\t\t\t\tanCat = catAnimation(plane1);","\t\t\t\t","\t\t\t\t}","\t\t\t\telse{","","\t\t\t\t}","","","","\t\t\t\trenderer.render(scene, camera);","","\t\t\t};","","\t\t\trender();"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":9},"end":{"row":8,"column":10},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":10},"end":{"row":8,"column":31},"action":"insert","lines":["src=\"js/three.min.js\""]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":10,"column":2},"action":"remove","lines":["\t\t\t","\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":32},"end":{"row":9,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":18},"end":{"row":8,"column":27},"action":"remove","lines":["three.min"]},{"start":{"row":8,"column":18},"end":{"row":8,"column":19},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":19},"end":{"row":8,"column":20},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":20},"end":{"row":8,"column":21},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":21},"end":{"row":8,"column":22},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":22},"end":{"row":8,"column":23},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":23},"end":{"row":8,"column":24},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":24},"end":{"row":8,"column":25},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":25},"end":{"row":8,"column":26},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":26},"end":{"row":8,"column":27},"action":"insert","lines":["y"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":8,"column":27},"end":{"row":8,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420201749000,"hash":"92ed7e01ae386277895833266458ff27ff2d0213"}